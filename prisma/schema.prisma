generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_URL")
  directUrl = env("POSTGRES_URL") // We'll use the same if direct is not explicitly split
}

model AdminUser {
  id           String   @id @default(uuid())
  fullName     String
  username     String   @unique
  email        String   @unique
  passwordHash String
  role         String   @default("Admin") // "SuperAdmin" | "Admin"
  isActive     Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@map("admin_users")
}

model Request {
  id            String   @id @default(uuid())
  name          String
  university    String?
  serviceNeeded String
  deadline      String?
  message       String
  status        String   @default("New") // "New" | "Contacted" | "InProgress" | "Closed"
  isDeleted     Boolean  @default(false)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@map("requests")
}

model Service {
  id             String   @id @default(uuid())
  title          String
  description    String
  category       String   @default("Other")
  icon           String   @default("Code")
  targetAudience String?
  benefits       String?
  href           String?
  displayOrder   Int      @default(0)
  isActive       Boolean  @default(true)
  isDeleted      Boolean  @default(false)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@map("services")
}

model Project {
  id               String   @id @default(uuid())
  title            String
  description      String
  imagePath        String?
  demoUrl          String?
  tags             String?
  featured         Boolean  @default(false)
  isDeleted        Boolean  @default(false)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  @@map("projects")
}

model Resource {
  id           String   @id @default(uuid())
  title        String
  description  String
  type         String   @default("Other") // "TelegramBot" | "YouTube" | "Course" | "Tool" | "Other"
  url          String
  isVisible    Boolean  @default(true)
  displayOrder Int      @default(0)
  isDeleted    Boolean  @default(false)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@map("resources")
}
